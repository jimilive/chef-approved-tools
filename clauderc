# Chef Approved Tools - Claude Code Rules

**Last Updated:** November 7, 2025
**Project:** chefapprovedtools.com
**Owner:** Scott Bradley

---

## üö® READ THIS FIRST

This file contains **PERMANENT RULES** that must be followed at all times.

For project status ‚Üí Ask Scott (status changes frequently)

**Core Principle:** Preserve existing functionality. When in doubt, ASK before changing anything.

---

## ‚ö†Ô∏è ABSOLUTE RULES - NEVER VIOLATE

### Scripts & Automation
```
‚ùå NEVER run scripts that modify files without explicit approval
‚ùå NEVER bulk-update anything automatically
‚úÖ ALWAYS explain what a script will do in detail
‚úÖ ALWAYS explicitly state "this is a script"
‚úÖ ALWAYS wait for Scott's approval before executing

Rule: No scripts to change files. Ever. Unless Scott approves EACH TIME.
```

### Change Control
```
‚ùå NEVER make changes based on what you think is best
‚ùå NEVER update anything on your own initiative
‚úÖ ALWAYS get explicit approval before ANY change
‚úÖ ALWAYS explain WHAT you want to change and WHY
‚úÖ ALWAYS wait for Scott's green light

Rule: Nothing changes without Scott's explicit approval.
```

### Quality & Execution
```
‚úÖ ALWAYS be thorough - no shortcuts, no corners cut
‚úÖ ALWAYS be methodical - systematic execution
‚è∞ Time is NOT a concern - do it right, not fast
üí¨ Tokens are NOT a concern - use as many as needed
üß™ ALWAYS test build before pushing to production

Rule: Quality over speed. Every single time.
```

---

## üë®‚Äçüç≥ PROTECTED VALUES - NEVER CHANGE

### Scott's Credentials (Exact Wording Required)
```
‚úÖ "24 years of professional kitchen experience" ‚Üê Use this
‚úÖ "45 years total cooking experience" ‚Üê Minimize use
‚úÖ "Kitchen Manager at Mellow Mushroom"
‚úÖ "Kitchen Manager for 7 years over several restaurants"

‚ùå NOT "20 years" or "25 years"
‚ùå NOT "Kitchen Manager for 24 years"
‚ùå NOT any other timeline variations
```

**Schema.ts Author Credentials (DO NOT CHANGE):**
```typescript
// In schema.ts, Scott's author object uses:
jobTitle: "Kitchen Manager & Culinary Professional"
description: "Professional chef with 45 years of cooking experience and 24 years in restaurant management. A.A.S. Culinary Arts from Seattle Central College."
alumniOf: "Seattle Central College"
hasCredential: Associate degree in Culinary Arts
```

**Note:** Schema uses "45 years cooking / 24 years restaurant management" wording - this is intentional and correct.

**AuthorBio Component Default Text (DO NOT CHANGE):**
```
Professional chef with 24 years of restaurant experience including
Pizzaiolo at Purple Caf√©, Kitchen Manager at Mellow Mushroom, and line
positions at Feierabend, Il Pizzaiolo, and Paragary's. A.A.S. Culinary
Arts from Seattle Central College, B.S. Business Administration from
University of Montana. Every product tested through real professional
kitchen use or extensive long-term home testing.
```

### Restaurant Names (Real - Never Invent)
```
‚úÖ Mellow Mushroom (Kitchen Manager)
‚úÖ Purple Caf√© (Pizzaiolo - Line Cook)
‚úÖ Feierabend (Line Cook)
‚úÖ Il Pizzaiolo (Line Cook)
‚úÖ Paragary's (Line Cook)
‚úÖ Seattle Central College (Culinary Education)

‚ùå NEVER invent other restaurant names or positions
```

### Affiliate Configuration
```
‚úÖ Amazon Associates Tag: chefapprovedt-20
‚úÖ Lead Magnet: "11 Tools I Use Most" PDF
‚úÖ Email Provider: ActiveCampaign

‚ùå NEVER change affiliate tag
‚ùå NEVER change lead magnet reference
```

### CTA Text Standards
```
‚úÖ Primary CTA: "Check Price on Amazon"
‚úÖ Alternative: "View on Amazon" (if context requires)

‚ùå NOT "Buy on Amazon"
‚ùå NOT "Purchase on Amazon"
‚ùå NOT "Shop on Amazon"
‚ùå NOT any other variations

Rule: ALL CTAs must say "Check Price on Amazon" unless explicitly approved otherwise.
```

---

## üõ†Ô∏è TECHNICAL ARCHITECTURE

### Tech Stack (Non-Negotiable)
```
‚úÖ Next.js 14.2.32 (App Router, Server Components)
‚úÖ React 18.3.1
‚úÖ TypeScript 5.4.5 (strict mode, no 'any' without justification)
‚úÖ Tailwind CSS 3.4.1 (NO inline styles unless required by best practice)
‚úÖ Supabase 2.76.1+ (ALL dynamic data)
‚úÖ Vercel (deployment, with @vercel/analytics)
‚úÖ GitHub (version control)
‚úÖ VS Code (development)
```

### Dynamic Data Requirements
```
‚úÖ ALL pages MUST fetch from Supabase (not hardcoded)
‚úÖ ALL product data MUST come from Supabase
‚úÖ ALL affiliate links MUST be dynamic (one source of truth)
‚úÖ Sitemap MUST be dynamic
‚úÖ Homepage MUST be dynamic
‚úÖ Hub pages MUST be dynamic
```

### Design System
```
‚úÖ Use Tailwind classes exclusively (exceptions require approval)
‚úÖ Primary CTA: bg-gradient-to-r from-orange-600 to-red-600
‚úÖ Text links: text-orange-700 (accessibility - NOT orange-600)
‚úÖ Container max-width: 1280px
‚úÖ Mobile-first: Always design mobile first, enhance for desktop
```

**‚ö†Ô∏è CRITICAL - Color System Location:**
- Colors are NOT in `tailwind.config.js` (uses default Tailwind palette)
- All custom colors/styles are in `/app/globals.css`
- Never modify globals.css without testing Lighthouse scores
- Contains critical SVG sizing fixes - DO NOT REMOVE

---

## ‚ôø ACCESSIBILITY REQUIREMENTS - MANDATORY

### The 4 Critical Accessibility Rules

**1. Text Link Colors (WCAG AA Compliance)**
```
‚úÖ Body text links: text-orange-700 (#c2410c) - 4.6:1 contrast ratio
‚úÖ Hover state: hover:text-orange-800

‚ùå NEVER use text-orange-600 for links (fails WCAG contrast)
‚ùå NEVER use orange-500 or lighter for text links
```

**2. Text on Orange Backgrounds**
```
‚úÖ Use text-slate-900 on orange backgrounds (proper contrast)

‚ùå NEVER use text-slate-700 on orange (fails contrast)
‚ùå NEVER use text-slate-600 or lighter on orange backgrounds
```

**3. Heading Hierarchy (Sequential Order)**
```
‚úÖ ALWAYS use sequential heading order: h1 ‚Üí h2 ‚Üí h3 ‚Üí h4
‚úÖ Only ONE h1 per page
‚úÖ Don't skip levels (e.g., h1 ‚Üí h3 without h2)

‚ùå NEVER skip heading levels
‚ùå NEVER use multiple h1 tags on same page
‚ùå NEVER use headings for styling only (use CSS instead)
```

**4. Star Ratings Color**
```
‚úÖ Use text-amber-700 for star ratings (accessibility compliant)

‚ùå NEVER use text-yellow-400 (fails contrast requirements)
```

### Focus States
```
‚úÖ All interactive elements MUST have visible focus states
‚úÖ Use focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
‚úÖ Never remove focus outlines without replacing with alternative
```

---

## üìÖ DATE REQUIREMENTS - MANDATORY

### Every Page Must Have Dates

**Required on ALL pages:**
- Published date (when first created)
- Last updated date (when meaningfully updated)
- Both dates in schema markup (datePublished, dateModified)

### Date Placement Standards

**For Review Pages:**
```tsx
// Above the title, below breadcrumbs
<div className="text-sm text-slate-600 mb-2">
  <time dateTime="2024-10-15">Published: October 15, 2024</time>
  {' ‚Ä¢ '}
  <time dateTime="2025-01-20">Updated: January 20, 2025</time>
</div>
```

**For Blog Posts:**
```tsx
// Below the title, above author info
<div className="text-sm text-slate-600 mb-4">
  <time dateTime="2024-11-05">November 5, 2024</time>
  {' ‚Ä¢ '}
  <span>Updated: <time dateTime="2025-01-10">January 10, 2025</time></span>
</div>
```

### Schema Markup Requirements
```typescript
// ALWAYS include in metadata
export async function generateMetadata() {
  return {
    // ... other metadata
    openGraph: {
      publishedTime: '2024-10-15T00:00:00Z',
      modifiedTime: '2025-01-20T00:00:00Z',
    }
  }
}

// ALWAYS include in Article schema
const articleSchema = {
  '@type': 'Article',
  datePublished: '2024-10-15',
  dateModified: '2025-01-20',
  // ... other fields
}
```

### Update Schedule
```
- Quarterly reviews: Top 10 products (every 3 months)
- Annual reviews: All flagship products (yearly)
- Version changes: Immediate update when product version changes
- Price changes: Update within 1 week if major price shift
- Feature updates: Update when product gets new features/models
```

---

## üìä SEO & METADATA REQUIREMENTS

### Title Tags
```
‚úÖ Maximum 60 characters
‚úÖ Include primary keyword
‚úÖ Include benefit or hook
‚úÖ Must be <80% similar to other titles on site
‚úÖ NO unescaped apostrophes or quotes
‚úÖ NO slash errors that truncate titles

Format examples:
- "[Product Name] Review: [Key Benefit] | Chef Approved Tools"
- "[Product Name]: [Testing Period] of Professional Use"
- "Best [Product Category]: [Year] Professional Chef Review"
```

### Meta Descriptions
```
‚úÖ 150-160 characters (optimal)
‚úÖ Include primary keyword
‚úÖ Include compelling benefit/promise
‚úÖ Must be <80% similar to other meta descriptions
‚úÖ NO unescaped apostrophes or quotes
‚úÖ Call to action when appropriate

Similarity Formula: (matching words / total words) < 0.80
```

### Character Encoding Rules
```
‚úÖ ALWAYS escape apostrophes: use &apos; or ' (curly)
‚úÖ ALWAYS escape quotes: use &quot; or " " (curly quotes)
‚úÖ Test all titles in Google Rich Results Test
‚úÖ Watch for slash errors that truncate content

Common Issues to Avoid:
- "Chef's knife" ‚Üí "Chef's knife" or "Chef&apos;s knife"
- "It's perfect" ‚Üí "It's perfect" or "It&apos;s perfect"
- "Best "Cast Iron" pan" ‚Üí "Best 'Cast Iron' pan"
```

### Breadcrumb Requirements
```
‚úÖ MUST be present on ALL content pages
‚úÖ MUST include schema markup (BreadcrumbList)
‚úÖ MUST be above page title
‚úÖ MUST use hover:text-orange-700 for links

Standard format:
Home / Reviews / [Product Name]
Home / Blog / [Post Title]
Home / Guides / [Guide Title]
Home / [Category] / [Subcategory] / [Item]
```

---

## üìã COMPARISON TABLES - MANDATORY FOR REVIEWS

### When to Include
```
‚úÖ EVERY product review page MUST have a comparison table
‚úÖ Compare 4 products: Reviewed product + Premium + Mid-range + Budget
‚úÖ Place after "Testing Results" or "Performance Analysis" section
‚úÖ Before "Pros & Cons" section
```

### Research Process
```
1. Identify your reviewed product's price tier
2. Find 1 premium alternative (higher price, more features)
3. Find 1 mid-range alternative (similar price, different brand)
4. Find 1 budget alternative (lower price, good value)
5. Verify all products have working affiliate links
6. Research accurate specifications for all 4 products
```

### Specs by Category

**Cookware (Pans, Pots, Skillets):**
```
- Material (e.g., Stainless Steel, Cast Iron, Nonstick)
- Diameter/Size (e.g., 12", 10", 14")
- Weight (e.g., 5.8 lbs, 3.2 lbs)
- Oven Safe Temp (e.g., 500¬∞F, 450¬∞F)
- Dishwasher Safe (Yes/No)
- Induction Compatible (Yes/No)
- Warranty (Lifetime, 10 Years, 1 Year)
- Price Tier (Premium, Mid-Range, Budget)
```

**Knives:**
```
- Blade Length (e.g., 8", 10", 7")
- Material (e.g., German Steel, Japanese VG-10, High-Carbon Stainless)
- Handle Material (e.g., Pakkawood, Plastic, Composite)
- Weight (e.g., 8.8 oz, 6.2 oz)
- HRC Hardness (e.g., 58, 56, 60)
- Full Tang (Yes/No)
- Dishwasher Safe (typically No for all)
- Warranty (Lifetime, Limited, 1 Year)
- Price Tier
```

**Appliances (Blenders, Food Processors):**
```
- Motor Power (e.g., 1,400W, 1,200W, 750W)
- Capacity (e.g., 64 oz, 48 oz, 40 oz)
- Speed Settings (e.g., Variable, 10-speed, 3-speed)
- Included Accessories (e.g., 2 cups, tamper, recipe book)
- Noise Level (High, Medium, Low - if available)
- Warranty (7 Years, 5 Years, 1 Year)
- Dishwasher Safe Parts (Yes/No)
- Price Tier
```

**Tools (Thermometers, Peelers, Mandolines):**
```
- Type/Mechanism (e.g., Digital, Dial, Manual, Electric)
- Range/Size (e.g., -40¬∞F to 450¬∞F, 3-blade system)
- Material (e.g., Stainless Steel, Plastic, Ceramic)
- Special Features (e.g., Waterproof, Auto-shutoff, Safety guard)
- Battery Type (if applicable)
- Dishwasher Safe (Yes/No)
- Warranty (if notable)
- Price Tier
```

### Price Tier Definitions
```
Premium: Top 10-20% of category price range
Mid-Range: Middle 40-60% of category price range
Budget: Bottom 20-30% of category price range
```

### Component Usage
```tsx
<ComparisonTable
  products={[
    {
      name: "Product Name",
      isReviewed: true, // Highlight the reviewed product
      specs: {
        "Material": "Stainless Steel",
        "Size": "12 inches",
        // ... all specs
      },
      affiliateUrl: getPrimaryAffiliateLink(product),
      priceTier: "Mid-Range"
    },
    // ... 3 more products
  ]}
/>
```

---

## üîó AFFILIATE LINK PATTERNS - USE CORRECTLY

### Product Helper Functions (Import from @/lib/product-helpers)
```tsx
import { getProductBySlug, getPrimaryAffiliateLink } from '@/lib/product-helpers'
```

**CRITICAL:** The helper functions are in `/lib/product-helpers.ts`

**Available Functions:**
```typescript
// Get single product by slug
async function getProductBySlug(slug: string): Promise<Product | null>

// Get multiple products by slugs
async function getProductsBySlugs(slugs: string[]): Promise<Product[]>

// Get primary affiliate link from product object
function getPrimaryAffiliateLink(product: Product): string

// Get all products
async function getAllProducts(): Promise<Product[]>

// Get products by category
async function getProductsByCategory(category: string): Promise<Product[]>

// Get related products (excludes current, limited results)
async function getRelatedProducts(
  currentProductSlug: string,
  category: string,
  limit?: number // default: 3
): Promise<Product[]>

// Get best price vendor from product.vendors
function getBestPriceVendor(product: Product): Vendor | undefined
```

**How `getPrimaryAffiliateLink()` Works:**
1. Looks for affiliate link where `merchant === product.primaryAffiliate`
2. Falls back to first link in `affiliateLinks` array if primary not found
3. Falls back to `'#'` if no links exist
4. Returns URL string ready to use in `href`

---

### Pattern 1: Product Review Pages (Component System - ISR)

**Use for:** Core product review pages at `/app/reviews/[slug]/page.tsx`

```tsx
// Import review data from separate file
import { reviewData } from './product-slug-data'

// ISR configuration (NOT dynamic rendering)
export const revalidate = 3600         // 1 hour cache
export const fetchCache = 'force-cache'

export default async function ProductReview() {
  // Fetch product from Supabase (returns null if not found)
  const product = await getProductBySlug(reviewData.productSlug)

  // Merge Supabase with legacy fallback
  const productData = product ? {
    ...reviewData.legacyProductData,
    ...product
  } : reviewData.legacyProductData

  // Get affiliate link
  const affiliateUrl = product ? getPrimaryAffiliateLink(product) : '#'

  return (
    <>
      <ReviewHero {...reviewData.hero} />
      <TestingResultsGrid {...reviewData.testingResults} />
      {/* etc - use components from @/components/review */}
    </>
  )
}
```

**CRITICAL:** Review pages now use component/template system (see section below)

---

### Pattern 2: Multi-Product Pages (With Fallbacks)

**Use for:** Guide pages, comparison posts, hub pages with multiple products

```tsx
export default async function GuidePage() {
  // Fetch multiple products at once
  const products = await Promise.all([
    getProductBySlug('product-1'),
    getProductBySlug('product-2'),
    getProductBySlug('product-3'),
  ])

  // OR use getProductsBySlugs for cleaner code:
  // const products = await getProductsBySlugs(['product-1', 'product-2', 'product-3'])

  const product1Url = products[0]
    ? getPrimaryAffiliateLink(products[0])
    : 'https://amzn.to/fallback1'

  const product2Url = products[1]
    ? getPrimaryAffiliateLink(products[1])
    : 'https://amzn.to/fallback2'

  return (
    <>
      <a href={product1Url}>Product 1</a>
      <a href={product2Url}>Product 2</a>
    </>
  )
}

export const dynamic = 'force-dynamic'
```

---

### Pattern 3: Related Products Section

**Use for:** "You might also like" sections on review pages

```tsx
export default async function ProductReview() {
  const product = await getProductBySlug('main-product-slug')

  // Get 3 related products from same category, excluding current
  const relatedProducts = await getRelatedProducts(
    product.slug,
    product.category,
    3 // limit (optional, default is 3)
  )

  return (
    <div>
      <h2>Related Products</h2>
      {relatedProducts.map(related => (
        <Link key={related.id} href={`/reviews/${related.slug}`}>
          {related.name}
        </Link>
      ))}
    </div>
  )
}
```

---

## ‚öôÔ∏è PERFORMANCE & LIGHTHOUSE REQUIREMENTS

### Performance Targets (Non-Negotiable)
```
‚úÖ Desktop Lighthouse: 100 across all metrics (current baseline)
‚úÖ Mobile Lighthouse: 80 Performance, 100 other metrics (current baseline)
‚úÖ LCP (Largest Contentful Paint): <1.2s (target), <2.5s (maximum)
‚úÖ TBT (Total Blocking Time): <50ms
‚úÖ FCP (First Contentful Paint): <1.0s
‚úÖ CLS (Cumulative Layout Shift): <0.1

Note: 125 pages currently indexed in Google (November 2025)
```

### Image Optimization Standards
```
‚úÖ Format: WebP preferred, JPEG fallback
‚úÖ Quality: 75% for all images (NOT 80% or higher)
‚úÖ Sizing: Properly sized for display (no oversized images)
‚úÖ Alt text: REQUIRED on ALL images
‚úÖ Lazy loading: Use for below-the-fold images
‚úÖ Priority: Use priority prop for above-the-fold hero images

Example:
<Image
  src="/images/product.jpg"
  alt="Descriptive alt text"
  width={662}
  height={606}
  quality={75}
  priority // Only for above-the-fold
  placeholder="blur"
/>
```

### LCP Optimization
```
‚úÖ Inline critical CSS for above-the-fold content
‚úÖ Preload hero images
‚úÖ Minimize render-blocking resources
‚úÖ Use Next.js Image component (automatic optimization)

Critical CSS Example:
<style dangerouslySetInnerHTML={{__html: `
  .hero-section { min-height: 100vh; display: flex; }
  .hero-heading { font-size: clamp(2rem, 5vw, 3.75rem); }
`}} />
```

### Code Splitting
```
‚úÖ Use dynamic imports for heavy components
‚úÖ Defer third-party scripts with strategy="lazyOnload"
‚úÖ Break up large JavaScript files

Example:
import dynamic from 'next/dynamic'

const HeavyComponent = dynamic(() => import('@/components/HeavyComponent'), {
  loading: () => <div>Loading...</div>,
  ssr: false
})
```

### Resource Hints
```
‚úÖ Preconnect to critical origins
‚úÖ DNS-prefetch for external resources
‚úÖ Preload critical assets

Example in layout.tsx:
<link rel="preconnect" href="https://www.chefapprovedtools.com" />
<link rel="dns-prefetch" href="https://fonts.googleapis.com" />
```

---

## üîÑ DEVELOPMENT WORKFLOW

### Git Commit Standards
```
‚úÖ Use conventional commit format:
   - feat: New feature
   - fix: Bug fix
   - refactor: Code restructure (no behavior change)
   - docs: Documentation changes
   - style: Formatting, white-space
   - test: Adding tests
   - chore: Maintenance

‚úÖ Be specific in commit messages
‚úÖ Reference issue numbers when applicable

Examples:
- "feat: add comparison table to Le Creuset review"
- "fix: correct contrast ratio for orange-600 links to orange-700"
- "refactor: standardize AuthorBio component across 43 pages"
```

### Branch Strategy
```
‚úÖ main = production-ready code
‚úÖ Feature branches for new work
‚úÖ Test locally before pushing
‚úÖ Deploy to Vercel preview before merging to main

Never push directly to main without testing.
```

### Testing Requirements
```
‚úÖ npm run build (must succeed)
‚úÖ npm run type-check (must pass)
‚úÖ npm run validate:all (if available)
‚úÖ Lighthouse audit (must maintain 95+ desktop)
‚úÖ Visual inspection (mobile and desktop)
‚úÖ Test affiliate links click-through

Before ANY deployment to production.
```

---

## üö´ COMMON MISTAKES - AVOID THESE

### Character Encoding Errors
```
‚ùå Unescaped apostrophes in titles: "Chef's Knife"
‚úÖ Use curly apostrophe: "Chef's Knife"

‚ùå Unescaped quotes: Best "Cast Iron" Skillet
‚úÖ Use proper quotes: Best "Cast Iron" Skillet

‚ùå Slash errors that truncate titles
‚úÖ Test all titles in Google Rich Results Test
```

### Accessibility Mistakes
```
‚ùå Using orange-600 for text links (fails contrast)
‚úÖ Use orange-700 for text links

‚ùå Skipping heading levels (h1 ‚Üí h3)
‚úÖ Sequential headings (h1 ‚Üí h2 ‚Üí h3)

‚ùå No focus states on buttons
‚úÖ Add focus:ring-2 focus:ring-orange-500
```

### Component Mistakes
```
‚ùå Hardcoding content in page files
‚úÖ Use separate data files (product-slug-data.ts)

‚ùå Using old monolithic structure
‚úÖ Use component system (Benriner standard)

‚ùå Not using ISR caching
‚úÖ Add revalidate: 3600 and fetchCache: 'force-cache'
```

### Metadata Mistakes
```
‚ùå Titles over 60 characters
‚úÖ Keep titles under 60 characters

‚ùå Meta descriptions over 160 characters or under 150
‚úÖ Keep meta descriptions 150-160 characters

‚ùå Similar titles across multiple pages
‚úÖ Ensure <80% similarity between titles
```

### Image Mistakes
```
‚ùå Using quality={80} or higher
‚úÖ Use quality={75}

‚ùå Oversized images (display at 331px, source is 452px)
‚úÖ Properly sized images (2x for retina = 662px for 331px display)

‚ùå Missing alt text
‚úÖ Descriptive alt text on ALL images
```

---

## üìû WHEN YOU DON'T KNOW

```
If unsure about anything:

1. STOP - Don't guess
2. REFERENCE - Check Benriner page, STYLE_GUIDE.md, or CONTENT_GUIDELINES.md
3. SEARCH - Look for similar implementations in codebase
4. ASK - Ask Scott before proceeding
5. TEST - Test locally before committing

Remember: Asking takes 30 seconds. Fixing mistakes takes 30 minutes.
```

---

## üÜò IF YOU BREAK SOMETHING

```
1. Don't panic
2. Note what changed
3. Git revert if needed: git revert HEAD
4. Tell Scott immediately
5. Document what happened
6. Learn from it

GitSaved exists for this reason.
```

---

## üí° WORKING WITH SCOTT

### Communication Standards
```
‚úÖ Be direct and specific
‚úÖ Explain reasoning for suggestions
‚úÖ Ask clarifying questions
‚úÖ Confirm understanding before executing
‚úÖ Report progress on long tasks

Scott operates in "kitchen mode" - clear, systematic, quality-focused.
```

### ADHD Considerations
```
‚úÖ Provide clear, structured information
‚úÖ Break large tasks into smaller milestones
‚úÖ Confirm deliverables before starting
‚úÖ Use systematic checklists
‚úÖ Allow for hyperfocus work sessions

Scott excels at pattern recognition and systematic execution.
```

---

## üìö REFERENCE DOCUMENTATION

### Primary Documentation (Always Reference)
```
1. clauderc.md (this file) - Protection rules, standards
2. CONTENT_GUIDELINES.md - Content creation standards
3. STYLE_GUIDE.md - Visual design standards
4. SEO_AND_ACCESSIBILITY_REQUIREMENTS.md - SEO/accessibility checklist
5. REVIEW_PAGE_MASTER_TEMPLATE.md - Review page structure
6. BLOG_POST_TEMPLATE.md - Blog post structure
7. SUPABASE_WORKFLOW.md - Database operations
```

### Code References
```
- Benriner review page: /app/reviews/benriner-large-mandoline/page.tsx
- Product helpers: /lib/product-helpers.ts
- Schema helpers: /lib/schema.ts
- Review components: /components/review/
- Global styles: /app/globals.css
```

### External Resources
```
- Google Rich Results Test: https://search.google.com/test/rich-results
- Lighthouse: Chrome DevTools or npx lighthouse
- WCAG Contrast Checker: https://webaim.org/resources/contrastchecker/
```

---

## üîß REVIEW PAGE COMPONENT/TEMPLATE SYSTEM

### Gold Standard: Benriner Page
**Reference:** `/app/reviews/benriner-large-mandoline/page.tsx`

This is the NEW architecture that ALL review pages must follow.

### File Structure
```
/app/reviews/[product-slug]/
‚îú‚îÄ‚îÄ page.tsx                 // Main page component
‚îî‚îÄ‚îÄ [product-slug]-data.ts   // ALL review content/data
```

### Component Order (13 Standard Components)
```tsx
1. ProductViewTrackerWrapper  // Analytics tracking
2. Schema markup              // Product, Breadcrumb, FAQ schemas
3. Breadcrumbs                // Navigation trail
4. ReviewHero                 // Title, verdict, rating, CTA
5. TestingResultsGrid         // Testing summary
6. PerformanceAnalysis        // Detailed analysis
7. ComparisonTable            // 4-product comparison (NEW - MANDATORY)
8. ProsConsGrid               // Pros and cons
9. WhoShouldBuyGrid          // Target audience
10. FAQSection                // Q&A
11. EmailCaptureSection       // Lead magnet
12. BottomLineSection         // Final verdict
13. RelatedProductsGrid       // Cross-sell
14. AuthorBio                 // Scott's credentials (NEW - MANDATORY)
```

### Data File Structure (product-slug-data.ts)
```typescript
export const reviewData = {
  // Metadata
  metadata: {
    title: "Page title",
    description: "Meta description",
    publishedDate: "2024-10-15",
    lastUpdated: "2025-01-20",
    tier: 1, // 1, 2, or 3
  },

  // Product identification
  productSlug: "product-slug", // Must match Supabase

  // Legacy fallback data
  legacyProductData: {
    name: "Product Name",
    slug: "product-slug",
    category: "Category",
    // ... full product object
  },

  // Tracking data
  tracking: {
    testingPeriod: "5+ years",
    hook: "Professional kitchen use",
  },

  // Breadcrumb
  breadcrumb: {
    productName: "Product Name"
  },

  // Hero section
  hero: {
    title: "Main heading",
    verdict: "Quick verdict paragraph",
    // ... hero props
  },

  // Testing results
  testingResults: {
    title: "Testing Results",
    sections: [
      { title: "Section 1", content: "..." },
      // ...
    ]
  },

  // Performance analysis
  performanceAnalysis: {
    // ... analysis content
  },

  // Comparison table (NEW - MANDATORY)
  comparisonTable: {
    products: [
      {
        name: "This Product",
        isReviewed: true,
        specs: { /* ... */ },
        affiliateUrl: "#",
        priceTier: "Mid-Range"
      },
      // ... 3 more products
    ]
  },

  // Pros/cons
  prosConsTitle: "Pros & Cons",
  prosTitle: "What We Love",
  consTitle: "What Could Be Better",
  // Note: pros/cons arrays come from Supabase

  // Who should buy
  whoShouldBuy: {
    // ... target audience content
  },

  // FAQ
  faq: {
    questions: [
      { question: "Q?", answer: "A." },
      // ... 5-6 questions
    ]
  },

  // Email capture
  emailCapture: {
    // Usually uses component defaults
  },

  // Bottom line
  bottomLine: {
    title: "The Bottom Line",
    content: "Final verdict paragraph",
  },

  // Related products
  relatedProducts: {
    title: "You Might Also Like",
    productSlugs: ["product-1", "product-2", "product-3"]
  }
}
```

### Page Component Structure (page.tsx)
```typescript
import { reviewData } from './product-slug-data'
import { getProductBySlug, getPrimaryAffiliateLink } from '@/lib/product-helpers'
// ... component imports

// ISR configuration
export const revalidate = 3600
export const fetchCache = 'force-cache'

export async function generateMetadata() {
  return {
    title: reviewData.metadata.title,
    description: reviewData.metadata.description,
    openGraph: {
      publishedTime: reviewData.metadata.publishedDate,
      modifiedTime: reviewData.metadata.lastUpdated,
    }
  }
}

export default async function ProductReview() {
  // Get product from Supabase
  const product = await getProductBySlug(reviewData.productSlug)

  // Merge Supabase data with legacy (Supabase priority)
  const productData = product ? {
    ...reviewData.legacyProductData,
    ...product,
    pros: product.pros?.length > 0 ? product.pros : reviewData.legacyProductData.pros,
    cons: product.cons?.length > 0 ? product.cons : reviewData.legacyProductData.cons,
  } : reviewData.legacyProductData

  // Get affiliate link
  const affiliateUrl = product ? getPrimaryAffiliateLink(product) : '#'

  // Generate schemas
  const productSchema = generateProductSchema({ /* ... */ })
  const breadcrumbSchema = generateBreadcrumbSchema([ /* ... */ ])
  const faqSchema = generateFAQSchema(reviewData.faqData)

  return (
    <>
      {/* Schema markup */}
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(productSchema) }} />
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(breadcrumbSchema) }} />
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(faqSchema) }} />

      {/* Tracking */}
      <ProductViewTrackerWrapper
        slug={productData.slug}
        name={productData.name}
        tier={reviewData.metadata.tier as 1 | 2 | 3}
        testingPeriod={reviewData.tracking.testingPeriod}
        rating={productData.expertRating}
        hook={reviewData.tracking.hook}
        category={productData.category}
      />

      <div className="bg-gray-50 min-h-screen">
        <div className="max-w-[900px] mx-auto px-5">

          {/* Breadcrumbs */}
          <div className="bg-white border-b border-gray-200 -mx-5 px-5 py-3 text-sm text-gray-600 mb-4">
            <Link href="/" className="hover:text-orange-700">Home</Link>
            {' / '}
            <Link href="/reviews" className="hover:text-orange-700">Reviews</Link>
            {' / '}
            {reviewData.breadcrumb.productName}
          </div>

          {/* Date stamps */}
          <div className="text-sm text-slate-600 mb-2">
            <time dateTime={reviewData.metadata.publishedDate}>
              Published: {formatDate(reviewData.metadata.publishedDate)}
            </time>
            {' ‚Ä¢ '}
            <time dateTime={reviewData.metadata.lastUpdated}>
              Updated: {formatDate(reviewData.metadata.lastUpdated)}
            </time>
          </div>

          {/* Compose from components */}
          <ReviewHero {...reviewData.hero} />
          <TestingResultsGrid {...reviewData.testingResults} />
          <PerformanceAnalysis {...reviewData.performanceAnalysis} />
          <ComparisonTable {...reviewData.comparisonTable} />
          <ProsConsGrid
            title={reviewData.prosConsTitle}
            prosTitle={reviewData.prosTitle}
            consTitle={reviewData.consTitle}
            pros={productData.pros}
            cons={productData.cons}
          />
          <WhoShouldBuyGrid {...reviewData.whoShouldBuy} />
          <FAQSection {...reviewData.faq} />
          <EmailCaptureSection {...reviewData.emailCapture} />
          <BottomLineSection {...reviewData.bottomLine} />
          <RelatedProductsGrid {...reviewData.relatedProducts} />
          <AuthorBio />

        </div>
      </div>
    </>
  )
}
```

**Critical Notes:**
- Data and JSX are SEPARATED
- ALL content lives in data file
- Components are composed, not custom HTML
- ISR caching is REQUIRED (revalidate: 3600)
- Supabase data takes priority over legacy fallback
- ALL review pages MUST use this structure

---

### Common Component System Mistakes - AVOID

**‚ùå Using Old Vitamix Structure**
```typescript
// DON'T DO THIS - old pattern
export const dynamic = 'force-dynamic'
const legacyProductData = { ... }  // Hardcoded in page file
// 900 lines of custom JSX
```

**‚ùå Hardcoding Content in Page File**
```typescript
// DON'T DO THIS
<h2>Testing Results</h2>
<p>After 5 years of use...</p>
```

**‚ùå Creating Custom HTML When Component Exists**
```typescript
// DON'T DO THIS
<div className="pros-cons-grid">
  <div className="pros">...</div>
  <div className="cons">...</div>
</div>

// DO THIS INSTEAD
<ProsConsGrid pros={...} cons={...} />
```

**‚ùå Not Using ISR**
```typescript
// DON'T DO THIS
export const dynamic = 'force-dynamic'

// DO THIS
export const revalidate = 3600
export const fetchCache = 'force-cache'
```

**‚ùå Mixing Data and Code**
```typescript
// DON'T DO THIS - data in page file
const hero = {
  title: '...',
  verdict: '...'
}

// DO THIS - data in separate file
import { reviewData } from './product-data'
```

**‚ùå Missing Comparison Table**
```typescript
// DON'T DO THIS - skip comparison table

// DO THIS - include comparison table on EVERY review
<ComparisonTable {...reviewData.comparisonTable} />
```

**‚ùå Missing AuthorBio**
```typescript
// DON'T DO THIS - skip author bio

// DO THIS - include AuthorBio on EVERY page
<AuthorBio />
```

---

### Migration Status

**‚úÖ Completed:**
- Benriner (November 2025) - New gold standard

**‚è≥ In Progress:**
- AuthorBio component added to 37 reviews + 6 guides (Nov 6, 2025)
- Comparison tables being rolled out to all reviews (Nov 2025)

**‚è≥ Pending (35+ pages):**
- All other review pages need full component conversion
- Systematic rebuild, not rushed
- Use Benriner as exact template for each

**Target:** All review pages using full component system by Q1 2026

---

### When You Don't Know

```
If unsure about component/template system:

1. STOP - Don't guess structure
2. REFERENCE - Open Benriner page as template
3. COPY - Use same structure, different data
4. ASK - If something unclear, ask Scott
5. TEST - Lighthouse + type-check before commit
```

**Remember:** Benriner is the template. When in doubt, copy its structure exactly.

---

## üîê FINAL RULES

```
1. Preserve over improve
2. Ask before ANY changes
3. No scripts without approval (EACH TIME)
4. Test everything locally first
5. Quality over speed (always)
6. Lighthouse scores must stay 95+ (recently optimized)
7. Document decisions
8. When in doubt: STOP and ASK
9. Benriner component system for ALL review pages (no exceptions)
10. Separate data files for all content (no hardcoded copy in JSX)
11. ISR caching (revalidate: 3600) for review pages
12. Comparison tables MANDATORY on all reviews
13. AuthorBio component on ALL pages
14. Dates (published/updated) on ALL pages
15. All CTAs say "Check Price on Amazon"
16. All accessibility requirements followed (4 rules)
17. All images optimized (quality: 75, WebP preferred)
18. All breadcrumbs present with schema markup
19. All metadata follows character limits and encoding rules
```

---

## üéØ SUCCESS METRICS (Don't Break These)

**Current Baseline (November 2025):**
```
‚úÖ 125 pages indexed in Google
‚úÖ Lighthouse scores: Desktop 100 (all metrics), Mobile 80 Performance / 100 (other metrics)
‚úÖ LCP <2.5s (target: <1.2s)
‚úÖ Page load times <2.5 seconds
‚úÖ Zero hardcoded affiliate links
‚úÖ Amazon tag: chefapprovedt-20
‚úÖ Dynamic Supabase integration working
‚úÖ Schema markup validates (Product, FAQ, Breadcrumb)
‚úÖ Analytics tracking functional (ProductViewTracker, CTAVisibilityTracker)
‚úÖ Component/template system established (Benriner standard)
‚úÖ AuthorBio component standardized (43 pages as of Nov 6)
‚úÖ Accessibility compliant (4 critical rules followed)
‚úÖ All review pages have comparison tables (rolling out Nov 2025)
‚úÖ Dates present on all pages (published/updated with schema)
```

If these decline after your changes, investigate immediately.

---

## üìã PRE-DEPLOYMENT CHECKLIST

```
Before deploying to production:

‚ñ° npm run build succeeds (includes prebuild validation)
‚ñ° npm run validate:all passes (if available)
‚ñ° npm run type-check passes (no TypeScript errors)
‚ñ° Lighthouse score: Desktop 100 (all metrics), Mobile 80 Performance / 100 (others) - TEST THIS
‚ñ° LCP <2.5s (target: <1.2s)
‚ñ° All images have alt text
‚ñ° All images use quality={75}
‚ñ° All images properly sized (not oversized)
‚ñ° No console errors
‚ñ° Mobile responsive tested
‚ñ° Affiliate links use correct tag (chefapprovedt-20)
‚ñ° All CTAs say "Check Price on Amazon"
‚ñ° Affiliate links click through successfully
‚ñ° No duplicate affiliate links
‚ñ° Internal links working
‚ñ° Breadcrumbs present on all content pages
‚ñ° Breadcrumb schema markup included
‚ñ° Dates present (published/updated) on all pages
‚ñ° Date schema markup included (datePublished, dateModified)
‚ñ° Schema markup validates (Google Rich Results Test)
‚ñ° Meta tags complete (title <60 chars, description 150-160 chars)
‚ñ° Meta tags <80% similar to other pages
‚ñ° No unescaped apostrophes or quotes in metadata
‚ñ° Heading hierarchy correct (h1 ‚Üí h2 ‚Üí h3, no skipping)
‚ñ° Text links use orange-700 (not orange-600)
‚ñ° Star ratings use amber-700 (not yellow-400)
‚ñ° Text on orange backgrounds uses slate-900 (not slate-700)
‚ñ° Focus states visible on all interactive elements
‚ñ° ProductViewTrackerWrapper present (if product page)
‚ñ° CTAVisibilityTracker present on CTAs (if applicable)
‚ñ° ISR configuration present (revalidate + fetchCache) for review pages
‚ñ° Review pages use component system (not old monolithic structure)
‚ñ° Comparison table included on review pages
‚ñ° AuthorBio component included on all content pages
‚ñ° Separate data file for content (not hardcoded in page.tsx)
```

---

**Remember:** This is Scott's path to financial independence after job loss. Every decision matters. Quality, authenticity, and performance are non-negotiable.

**The Benriner review page is the NEW gold standard** - it uses the component/template system established in November 2025. All review pages need to be converted to this architecture.

**Microsoft AI Optimization Validation (Nov 6, 2025):**
- ‚úÖ Already using structured data (Product, FAQ, Breadcrumb schemas)
- ‚úÖ Already have real expertise documented (24 years professional)
- ‚úÖ Already have comparison content (rolling out now)
- ‚úÖ Already have proper structure (component system)
- ‚úÖ Already have author bios on all pages (completed Nov 6)
- ‚úÖ Need freshness signals (dates - implementing now)
- ‚úÖ Need content refresh schedule (quarterly top 10, annual flagship)

**When in doubt: STOP and ASK.**

---

*This file must be read by any AI assistant before working on Chef Approved Tools.*
*Last Updated: November 7, 2025*
*Verified against: /app/reviews/benriner-large-mandoline/page.tsx*
*Includes: Nov 6 session updates, Microsoft AI optimization requirements, Lighthouse fixes*
